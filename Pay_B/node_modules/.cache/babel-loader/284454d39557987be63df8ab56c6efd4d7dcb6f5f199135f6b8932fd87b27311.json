{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// 导入请求方法\nimport { userList, userSave, userDelete, userPwd, userExpireToken, userFlashCache, userLock, UserDeptTree, UserDeptSave, UserDeptdeptTree, UserChangeDept } from '@/api/userMG';\nimport Pagination from '@/components/Pagination';\nexport default {\n  data() {\n    return {\n      nshow: true,\n      //switch开启\n      fshow: false,\n      //switch关闭\n      loading: false,\n      //是显示加载\n      title: '添加用户',\n      editFormVisible: false,\n      //控制编辑页面显示与隐藏\n      dataAccessshow: false,\n      //控制数据权限显示与隐藏\n      unitAccessshow: false,\n      //控制所属单位隐藏与显示\n      // 编辑与添加\n      editForm: {\n        userId: '',\n        userName: '',\n        userRealName: '',\n        roleId: '',\n        userMobile: '',\n        userEmail: '',\n        userSex: '',\n        token: localStorage.getItem('logintoken')\n      },\n      // 部门参数\n      unitparm: {\n        userIds: '',\n        deptId: '',\n        deptName: ''\n      },\n      // 选择数据\n      selectdata: [],\n      // rules表单验证\n      rules: {\n        userName: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        userRealName: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }],\n        roleId: [{\n          required: true,\n          message: '请选择角色',\n          trigger: 'blur'\n        }],\n        userMobile: [{\n          required: true,\n          message: '请输入手机号',\n          trigger: 'blur'\n        }, {\n          pattern: /^1(3\\d|47|5((?!4)\\d)|7(0|1|[6-8])|8\\d)\\d{8,8}$/,\n          required: true,\n          message: '请输入正确的手机号',\n          trigger: 'blur'\n        }],\n        userEmail: [{\n          required: true,\n          message: '请输入邮箱',\n          trigger: 'blur'\n        }, {\n          pattern: /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/,\n          required: true,\n          message: '请输入正确的邮箱',\n          trigger: 'blur'\n        }],\n        userSex: [{\n          required: true,\n          message: '请选择性别',\n          trigger: 'blur'\n        }]\n      },\n      // 删除用户\n      seletedata: {\n        ids: '',\n        token: localStorage.getItem('logintoken')\n      },\n      // 重置密码\n      resetpsd: {\n        userId: '',\n        token: localStorage.getItem('logintoken')\n      },\n      // 用户下线\n      offline: {\n        token: localStorage.getItem('logintoken')\n      },\n      // 请求数据参数\n      formInline: {\n        page: 1,\n        limit: 10,\n        deptId: '',\n        userName: '',\n        userMobile: '',\n        isLock: ''\n      },\n      //用户数据\n      userData: [],\n      // 数据权限\n      UserDept: [],\n      defaultProps: {\n        children: 'children',\n        label: 'name'\n      },\n      // 选中\n      checkmenu: [],\n      //参数role\n      saveroleId: '',\n      // 分页参数\n      pageparm: {\n        currentPage: 1,\n        pageSize: 10,\n        total: 10\n      }\n    };\n  },\n  // 注册组件\n  components: {\n    Pagination\n  },\n  /**\r\n   * 数据发生改变\r\n   */\n  watch: {},\n  /**\r\n   * 创建完毕\r\n   */\n  created() {\n    this.getdata(this.formInline);\n  },\n  /**\r\n   * 里面的方法只有被调用才会执行\r\n   */\n  methods: {\n    // 获取数据方法\n    getdata(parameter) {\n      this.loading = true;\n      // 模拟数据开始\n      let res = {\n        code: 0,\n        msg: null,\n        count: 12,\n        data: [{\n          addUser: '1',\n          editUser: '1',\n          addTime: null,\n          editTime: 1527411068000,\n          userId: 1,\n          systemNo: 'pmd',\n          userName: 'root',\n          userPassword: 'e10adc3949ba59abbe56e057f20f883e',\n          userRealName: '超级管理员',\n          userSex: '女',\n          userMobile: '138123456789',\n          userEmail: '111@qq.com',\n          isLock: 'N',\n          deptId: 1,\n          deptName: 'xxxx',\n          roleId: 1\n        }, {\n          addUser: '1',\n          editUser: '1',\n          addTime: null,\n          editTime: 1527410579000,\n          userId: 3,\n          systemNo: 'mc',\n          userName: 'zengzhuo',\n          userPassword: 'e10adc3949ba59abbe56e057f20f883e',\n          userRealName: '系统管理员',\n          userSex: 'M',\n          userMobile: '18616988966',\n          userEmail: '222@qq.com',\n          isLock: 'N',\n          deptId: 2,\n          deptName: 'xxxx',\n          roleId: 101\n        }, {\n          addUser: '1',\n          editUser: '4',\n          addTime: null,\n          editTime: 1527411586000,\n          userId: 4,\n          systemNo: 'ec',\n          userName: 'admin',\n          userPassword: '59ba8b7dda9ff79186311a5a9fa155ca',\n          userRealName: '超级管理员',\n          userSex: '女',\n          userMobile: '138123456789',\n          userEmail: 'huangxuekun@founder.com',\n          isLock: 'N',\n          deptId: 2,\n          deptName: 'xxxx',\n          roleId: 3\n        }, {\n          addUser: null,\n          editUser: null,\n          addTime: 1526275128000,\n          editTime: 1526284402000,\n          userId: 28,\n          systemNo: null,\n          userName: 'eee111',\n          userPassword: 'e10adc3949ba59abbe56e057f20f883e',\n          userRealName: '123111',\n          userSex: '男',\n          userMobile: '12354342345',\n          userEmail: '111232@qq.com',\n          isLock: 'N',\n          deptId: 4,\n          deptName: 'zxxxxx',\n          roleId: 1\n        }, {\n          addUser: null,\n          editUser: null,\n          addTime: 1526284533000,\n          editTime: 1526284533000,\n          userId: 37,\n          systemNo: null,\n          userName: 'ces',\n          userPassword: 'e10adc3949ba59abbe56e057f20f883e',\n          userRealName: 'sesfg',\n          userSex: '男',\n          userMobile: '12312312312',\n          userEmail: '122111111',\n          isLock: 'N',\n          deptId: 1,\n          deptName: 'xxxx',\n          roleId: 1\n        }, {\n          addUser: null,\n          editUser: null,\n          addTime: 1526285228000,\n          editTime: 1526285228000,\n          userId: 43,\n          systemNo: null,\n          userName: '22',\n          userPassword: 'e10adc3949ba59abbe56e057f20f883e',\n          userRealName: '22',\n          userSex: '男',\n          userMobile: '222',\n          userEmail: '222',\n          isLock: 'N',\n          deptId: 1,\n          deptName: 'xxxx',\n          roleId: 1\n        }, {\n          addUser: null,\n          editUser: null,\n          addTime: 1526448593000,\n          editTime: 1526448593000,\n          userId: 58,\n          systemNo: null,\n          userName: '1',\n          userPassword: 'e10adc3949ba59abbe56e057f20f883e',\n          userRealName: '1',\n          userSex: '女',\n          userMobile: '13607118810',\n          userEmail: '1@qq.com',\n          isLock: 'N',\n          deptId: 1,\n          deptName: 'xxxx',\n          roleId: 1\n        }, {\n          addUser: null,\n          editUser: null,\n          addTime: 1526452698000,\n          editTime: 1526520341000,\n          userId: 60,\n          systemNo: null,\n          userName: '222222222',\n          userPassword: 'e10adc3949ba59abbe56e057f20f883e',\n          userRealName: '222222222222',\n          userSex: '男',\n          userMobile: '13607118810',\n          userEmail: '111@qq.com',\n          isLock: 'N',\n          deptId: 1,\n          deptName: 'xxxx',\n          roleId: 1\n        }, {\n          addUser: null,\n          editUser: null,\n          addTime: 1526452731000,\n          editTime: 1526452731000,\n          userId: 61,\n          systemNo: null,\n          userName: '33333333333333',\n          userPassword: 'e10adc3949ba59abbe56e057f20f883e',\n          userRealName: '4444444444444444444',\n          userSex: '女',\n          userMobile: '13607118810',\n          userEmail: 'qqq@qq.com',\n          isLock: 'N',\n          deptId: 1,\n          deptName: 'xxxx',\n          roleId: 2\n        }, {\n          addUser: null,\n          editUser: null,\n          addTime: 1526452756000,\n          editTime: 1527128981000,\n          userId: 62,\n          systemNo: null,\n          userName: '211111111',\n          userPassword: 'e10adc3949ba59abbe56e057f20f883e',\n          userRealName: '21111111111',\n          userSex: '男',\n          userMobile: '13601478451',\n          userEmail: '222222@qq.com',\n          isLock: 'N',\n          deptId: 17,\n          deptName: 'v',\n          roleId: 2\n        }]\n      };\n      this.loading = false;\n      this.userData = res.data;\n      // 分页赋值\n      this.pageparm.currentPage = this.formInline.page;\n      this.pageparm.pageSize = this.formInline.limit;\n      this.pageparm.total = res.count;\n      // 模拟数据结束\n\n      /***\r\n       * 调用接口，注释上面模拟数据 取消下面注释\r\n       */\n      // 获取用户列表\n      // userList(parameter).then(res => {\n      //   this.loading = false\n      //   if (res.success == false) {\n      //     this.$message({\n      //       type: 'info',\n      //       message: res.msg\n      //     })\n      //   } else {\n      //     this.userData = res.data\n      //     // 分页赋值\n      //     this.pageparm.currentPage = this.formInline.page\n      //     this.pageparm.pageSize = this.formInline.limit\n      //     this.pageparm.total = res.count\n      //   }\n      // })\n    },\n\n    // 分页插件事件\n    callFather(parm) {\n      this.formInline.page = parm.currentPage;\n      this.formInline.limit = parm.pageSize;\n      this.getdata(this.formInline);\n    },\n    //搜索事件\n    search() {\n      this.getdata(this.formInline);\n    },\n    // 修改type\n    editType: function (index, row) {\n      this.loading = true;\n      let parm = {\n        lock: '',\n        userId: '',\n        token: localStorage.getItem('logintoken')\n      };\n      parm.userId = row.userId;\n      let lock = row.isLock;\n      if (lock == 'N') {\n        parm.lock = 'Y';\n      } else {\n        parm.lock = 'N';\n      }\n      // 修改状态\n      userLock(parm).then(res => {\n        this.loading = false;\n        if (res.success == false) {\n          this.$message({\n            type: 'info',\n            message: res.msg\n          });\n        } else {\n          this.$message({\n            type: 'success',\n            message: '状态修改成功'\n          });\n          this.getdata(this.formInline);\n        }\n      });\n    },\n    //显示编辑界面\n    handleEdit: function (index, row) {\n      this.editFormVisible = true;\n      if (row != undefined && row != 'undefined') {\n        this.title = '修改用户';\n        this.editForm.userId = row.userId;\n        this.editForm.userName = row.userName;\n        this.editForm.userRealName = row.userRealName;\n        this.editForm.roleId = row.roleId;\n        this.editForm.userMobile = row.userMobile;\n        this.editForm.userEmail = row.userEmail;\n        this.editForm.userSex = row.userSex;\n      } else {\n        this.title = '添加用户';\n        this.editForm.userId = '';\n        this.editForm.userName = '';\n        this.editForm.userRealName = '';\n        this.editForm.roleId = '';\n        this.editForm.userMobile = '';\n        this.editForm.userEmail = '';\n        this.editForm.userSex = '';\n      }\n    },\n    // 编辑、添加提交方法\n    submitForm(editData) {\n      this.$refs[editData].validate(valid => {\n        if (valid) {\n          // 请求方法\n          userSave(this.editForm).then(res => {\n            this.editFormVisible = false;\n            this.loading = false;\n            if (res.success) {\n              this.getdata(this.formInline);\n              this.$message({\n                type: 'success',\n                message: '数据保存成功！'\n              });\n            } else {\n              this.$message({\n                type: 'info',\n                message: res.msg\n              });\n            }\n          }).catch(err => {\n            this.editFormVisible = false;\n            this.loading = false;\n            this.$message.error('保存失败，请稍后再试！');\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 显示部门设置\n    handleunit: function (index, row) {\n      this.unitAccessshow = true;\n      let parms = 0;\n      UserDeptdeptTree(parms).then(res => {\n        if (res.data.success) {\n          this.UserDept = this.changeArr(res.data.data);\n        } else {\n          this.$message({\n            type: 'info',\n            message: res.msg\n          });\n        }\n      }).catch(err => {\n        this.loading = false;\n        this.$message.error('配置权限失败,请稍后再试！');\n      });\n    },\n    handleClick(data, checked, node) {\n      if (checked) {\n        this.$refs.tree.setCheckedNodes([]);\n        this.$refs.tree.setCheckedNodes([data]);\n        this.unitparm.deptId = data.id;\n        this.unitparm.deptName = data.name;\n        //交叉点击节点\n      } else {}\n    },\n    // 保存部门\n    unitPermSave() {\n      let len = this.selectdata;\n      let ids = [];\n      if (len != 0) {\n        for (let i = 0; i < len.length; i++) {\n          ids.push(len[i].userId);\n        }\n      }\n      this.unitparm.userIds = ids.join(',');\n      UserChangeDept(this.unitparm).then(res => {\n        this.unitAccessshow = false;\n        if (res.success) {\n          this.$message({\n            type: 'success',\n            message: '部门设置成功！'\n          });\n          this.getdata(this.formInline);\n        } else {\n          this.$message({\n            type: 'info',\n            message: res.msg\n          });\n        }\n      }).catch(err => {\n        this.loading = false;\n        this.$message.error('部门设置失败,请稍后再试！');\n      });\n    },\n    // 选择复选框事件\n    selectChange(val) {\n      this.selectdata = val;\n    },\n    // 关闭编辑、增加弹出框\n    closeDialog(dialog) {\n      if (dialog == 'edit') {\n        this.editFormVisible = false;\n      } else if (dialog == 'perm') {\n        this.dataAccessshow = false;\n      } else if (dialog == 'unit') {\n        this.unitAccessshow = false;\n      }\n    },\n    // 删除用户\n    deleteUser(index, row) {\n      this.$confirm('确定要删除吗?', '信息', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 删除\n        userDelete(row.id).then(res => {\n          if (res.success) {\n            this.$message({\n              type: 'success',\n              message: '数据已删除!'\n            });\n            this.getdata(this.formInline);\n          } else {\n            this.$message({\n              type: 'info',\n              message: res.msg\n            });\n          }\n        }).catch(err => {\n          this.loading = false;\n          this.$message.error('数据删除失败，请稍后再试！');\n        });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除！'\n        });\n      });\n    },\n    // 重置密码\n    resetpwd(index, row) {\n      this.resetpsd.userId = row.userId;\n      this.$confirm('确定要重置密码吗?', '信息', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        userPwd(this.resetpsd).then(res => {\n          if (res.success) {\n            this.$message({\n              type: 'success',\n              message: '重置密码成功！'\n            });\n            this.getdata(this.formInline);\n          } else {\n            this.$message({\n              type: 'info',\n              message: res.msg\n            });\n          }\n        }).catch(err => {\n          this.loading = false;\n          this.$message.error('重置密码失败，请稍后再试！');\n        });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消重置密码！'\n        });\n      });\n    },\n    // 数据权限\n    dataAccess: function (index, row) {\n      this.dataAccessshow = true;\n      this.saveroleId = row.userId;\n      UserDeptTree(row.userId).then(res => {\n        if (res.data.success) {\n          this.checkmenu = this.changemenu(res.data.data);\n          this.UserDept = this.changeArr(res.data.data);\n        } else {\n          this.$message({\n            type: 'info',\n            message: res.data.msg\n          });\n        }\n      }).catch(err => {\n        this.loading = false;\n        this.$message.error('获取权限失败，请稍后再试！');\n      });\n    },\n    //数据格式化\n    changeArr(data) {\n      var pos = {};\n      var tree = [];\n      var i = 0;\n      while (data.length != 0) {\n        if (data[i].pId == 0) {\n          tree.push({\n            id: data[i].id,\n            name: data[i].name,\n            pId: data[i].pId,\n            open: data[i].open,\n            checked: data[i].checked,\n            children: []\n          });\n          pos[data[i].id] = [tree.length - 1];\n          data.splice(i, 1);\n          i--;\n        } else {\n          var posArr = pos[data[i].pId];\n          if (posArr != undefined) {\n            var obj = tree[posArr[0]];\n            for (var j = 1; j < posArr.length; j++) {\n              obj = obj.children[posArr[j]];\n            }\n            obj.children.push({\n              id: data[i].id,\n              name: data[i].name,\n              pId: data[i].pId,\n              open: data[i].open,\n              checked: data[i].checked,\n              children: []\n            });\n            pos[data[i].id] = posArr.concat([obj.children.length - 1]);\n            data.splice(i, 1);\n            i--;\n          }\n        }\n        i++;\n        if (i > data.length - 1) {\n          i = 0;\n        }\n      }\n      return tree;\n    },\n    // 选中菜单\n    changemenu(arr) {\n      let change = [];\n      for (let i = 0; i < arr.length; i++) {\n        if (arr[i].checked) {\n          change.push(arr[i].id);\n        }\n      }\n      return change;\n    },\n    // 菜单权限-保存\n    menuPermSave() {\n      let parm = {\n        userId: this.saveroleId,\n        deptIds: ''\n      };\n      let node = this.$refs.tree.getCheckedNodes();\n      let moduleIds = [];\n      if (node.length != 0) {\n        for (let i = 0; i < node.length; i++) {\n          moduleIds.push(node[i].id);\n        }\n        parm.deptIds = JSON.stringify(moduleIds);\n      }\n      UserDeptSave(parm).then(res => {\n        if (res.success) {\n          this.$message({\n            type: 'success',\n            message: '权限保存成功'\n          });\n          this.dataAccessshow = false;\n          this.getdata(this.formInline);\n        } else {\n          this.$message({\n            type: 'info',\n            message: res.msg\n          });\n        }\n      }).catch(err => {\n        this.loading = false;\n        this.$message.error('权限保存失败，请稍后再试！');\n      });\n    },\n    // 下线用户\n    offlineUser(index, row) {\n      this.$confirm('确定要让' + row.userName + '用户下线吗?', '信息', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        userExpireToken(row.userName).then(res => {\n          if (res.success) {\n            this.$message({\n              type: 'success',\n              message: '用户' + row.userName + '强制下线成功！'\n            });\n            this.getdata(this.formInline);\n          } else {\n            this.$message({\n              type: 'info',\n              message: res.msg\n            });\n          }\n        }).catch(err => {\n          this.loading = false;\n          this.$message.error('用户下线失败，请稍后再试！');\n        });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消'\n        });\n      });\n    },\n    // 刷新缓存\n    refreshCache(index, row) {\n      userFlashCache(row.userName).then(res => {\n        if (res.success) {\n          this.$message({\n            type: 'success',\n            message: '刷新成功！'\n          });\n          this.getdata(this.formInline);\n        } else {\n          this.$message({\n            type: 'info',\n            message: res.msg\n          });\n        }\n      }).catch(err => {\n        this.loading = false;\n        this.$message.error('刷新失败，请稍后再试！');\n      });\n    }\n  }\n};","map":{"version":3,"names":["userList","userSave","userDelete","userPwd","userExpireToken","userFlashCache","userLock","UserDeptTree","UserDeptSave","UserDeptdeptTree","UserChangeDept","Pagination","data","nshow","fshow","loading","title","editFormVisible","dataAccessshow","unitAccessshow","editForm","userId","userName","userRealName","roleId","userMobile","userEmail","userSex","token","localStorage","getItem","unitparm","userIds","deptId","deptName","selectdata","rules","required","message","trigger","pattern","seletedata","ids","resetpsd","offline","formInline","page","limit","isLock","userData","UserDept","defaultProps","children","label","checkmenu","saveroleId","pageparm","currentPage","pageSize","total","components","watch","created","getdata","methods","parameter","res","code","msg","count","addUser","editUser","addTime","editTime","systemNo","userPassword","callFather","parm","search","editType","index","row","lock","then","success","$message","type","handleEdit","undefined","submitForm","editData","$refs","validate","valid","catch","err","error","handleunit","parms","changeArr","handleClick","checked","node","tree","setCheckedNodes","id","name","unitPermSave","len","i","length","push","join","selectChange","val","closeDialog","dialog","deleteUser","$confirm","confirmButtonText","cancelButtonText","resetpwd","dataAccess","changemenu","pos","pId","open","splice","posArr","obj","j","concat","arr","change","menuPermSave","deptIds","getCheckedNodes","moduleIds","JSON","stringify","offlineUser","refreshCache"],"sources":["src/views/hotelviews/system/user.vue"],"sourcesContent":["/**\r\n * 系统管理 用户管理\r\n */\r\n<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 搜索筛选 -->\r\n    <el-form :inline=\"true\" :model=\"formInline\" class=\"user-search\">\r\n      <el-form-item label=\"搜索：\">\r\n        <el-select size=\"small\" v-model=\"formInline.isLock\" placeholder=\"请选择\">\r\n          <el-option label=\"全部\" value=\"\"></el-option>\r\n          <el-option label=\"正常\" value=\"N\"></el-option>\r\n          <el-option label=\"已锁定\" value=\"Y\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"\">\r\n        <el-input size=\"small\" v-model=\"formInline.userName\" placeholder=\"输入用户名\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\">\r\n        <el-input size=\"small\" v-model=\"formInline.userMobile\" placeholder=\"输入手机号\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button size=\"small\" type=\"primary\" icon=\"el-icon-search\" @click=\"search\">搜索</el-button>\r\n        <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\" @click=\"handleEdit()\">添加</el-button>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"handleunit()\">部门设置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!--列表-->\r\n    <el-table size=\"small\" @selection-change=\"selectChange\" :data=\"userData\" highlight-current-row v-loading=\"loading\" border element-loading-text=\"拼命加载中\" style=\"width: 100%;\">\r\n      <el-table-column align=\"center\" type=\"selection\" width=\"50\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" sortable prop=\"deptName\" label=\"公司\" width=\"120\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" sortable prop=\"userName\" label=\"用户名\" width=\"120\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" sortable prop=\"userRealName\" label=\"姓名\" width=\"120\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" sortable prop=\"userMobile\" label=\"手机号\" width=\"120\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" sortable prop=\"userSex\" label=\"性别\" min-width=\"50\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" sortable prop=\"userEmail\" label=\"邮件\" min-width=\"120\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" sortable prop=\"editTime\" label=\"修改时间\" min-width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          <div>{{scope.row.editTime|timestampToTime}}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" sortable prop=\"isLock\" label=\"状态\" min-width=\"50\">\r\n        <template slot-scope=\"scope\">\r\n          <el-switch v-model=\"scope.row.isLock=='N'?nshow:fshow\" active-color=\"#13ce66\" inactive-color=\"#ff4949\" @change=\"editType(scope.$index, scope.row)\">\r\n          </el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" min-width=\"300\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"deleteUser(scope.$index, scope.row)\">删除</el-button>\r\n          <el-button size=\"mini\" type=\"success\" @click=\"resetpwd(scope.$index, scope.row)\">重置密码</el-button>\r\n          <el-button size=\"mini\" type=\"success\" @click=\"dataAccess(scope.$index, scope.row)\">数据权限</el-button>\r\n          <el-button size=\"mini\" type=\"success\" @click=\"offlineUser(scope.$index, scope.row)\">下线</el-button>\r\n          <el-button size=\"mini\" type=\"success\" @click=\"refreshCache(scope.$index, scope.row)\">刷新缓存</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页组件 -->\r\n    <Pagination v-bind:child-msg=\"pageparm\" @callFather=\"callFather\"></Pagination>\r\n    <!-- 编辑界面 -->\r\n    <el-dialog :title=\"title\" :visible.sync=\"editFormVisible\" width=\"30%\" @click='closeDialog(\"edit\")'>\r\n      <el-form label-width=\"80px\" ref=\"editForm\" :model=\"editForm\" :rules=\"rules\">\r\n        <el-form-item label=\"用户名\" prop=\"userName\">\r\n          <el-input size=\"small\" v-model=\"editForm.userName\" auto-complete=\"off\" placeholder=\"请输入用户名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\" prop=\"userRealName\">\r\n          <el-input size=\"small\" v-model=\"editForm.userRealName\" auto-complete=\"off\" placeholder=\"请输入姓名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色\" prop=\"roleId\">\r\n          <el-select size=\"small\" v-model=\"editForm.roleId\" placeholder=\"请选择\" class=\"userRole\">\r\n            <el-option label=\"公司管理员\" value=\"1\"></el-option>\r\n            <el-option label=\"普通用户\" value=\"2\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"userMobile\">\r\n          <el-input size=\"small\" v-model=\"editForm.userMobile\" placeholder=\"请输入手机号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮件\" prop=\"userEmail\">\r\n          <el-input size=\"small\" v-model=\"editForm.userEmail\" placeholder=\"请输入邮箱地址\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\" prop=\"userSex\">\r\n          <el-radio v-model=\"editForm.userSex\" label=\"男\">男</el-radio>\r\n          <el-radio v-model=\"editForm.userSex\" label=\"女\">女</el-radio>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"small\" @click='closeDialog(\"edit\")'>取消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" :loading=\"loading\" class=\"title\" @click=\"submitForm('editForm')\">保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 数据权限 -->\r\n    <el-dialog title=\"数据权限\" :visible.sync=\"dataAccessshow\" width=\"30%\" @click='closeDialog(\"perm\")'>\r\n      <el-tree ref=\"tree\" default-expand-all=\"\" :data=\"UserDept\" :props=\"defaultProps\" :default-checked-keys=\"checkmenu\" node-key=\"id\" show-checkbox>\r\n      </el-tree>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"small\" @click='closeDialog(\"perm\")'>取消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" :loading=\"loading\" class=\"title\" @click=\"menuPermSave\">保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 所属单位 -->\r\n    <el-dialog title=\"所属单位\" :visible.sync=\"unitAccessshow\" width=\"30%\" @click='closeDialog(\"unit\")'>\r\n      <el-tree ref=\"tree\" default-expand-all=\"\" :data=\"UserDept\" :props=\"defaultProps\" @check-change=\"handleClick\" :default-checked-keys=\"checkmenu\" node-key=\"id\" show-checkbox check-strictly>\r\n      </el-tree>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"small\" @click='closeDialog(\"unit\")'>取消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" :loading=\"loading\" class=\"title\" @click=\"unitPermSave\">保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入请求方法\r\nimport {\r\n  userList,\r\n  userSave,\r\n  userDelete,\r\n  userPwd,\r\n  userExpireToken,\r\n  userFlashCache,\r\n  userLock,\r\n  UserDeptTree,\r\n  UserDeptSave,\r\n  UserDeptdeptTree,\r\n  UserChangeDept\r\n} from '@/api/userMG'\r\nimport Pagination from '@/components/Pagination'\r\nexport default {\r\n  data() {\r\n    return {\r\n      nshow: true, //switch开启\r\n      fshow: false, //switch关闭\r\n      loading: false, //是显示加载\r\n      title: '添加用户',\r\n      editFormVisible: false, //控制编辑页面显示与隐藏\r\n      dataAccessshow: false, //控制数据权限显示与隐藏\r\n      unitAccessshow: false, //控制所属单位隐藏与显示\r\n      // 编辑与添加\r\n      editForm: {\r\n        userId: '',\r\n        userName: '',\r\n        userRealName: '',\r\n        roleId: '',\r\n        userMobile: '',\r\n        userEmail: '',\r\n        userSex: '',\r\n        token: localStorage.getItem('logintoken')\r\n      },\r\n      // 部门参数\r\n      unitparm: {\r\n        userIds: '',\r\n        deptId: '',\r\n        deptName: ''\r\n      },\r\n      // 选择数据\r\n      selectdata: [],\r\n      // rules表单验证\r\n      rules: {\r\n        userName: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' }\r\n        ],\r\n        userRealName: [\r\n          { required: true, message: '请输入姓名', trigger: 'blur' }\r\n        ],\r\n        roleId: [{ required: true, message: '请选择角色', trigger: 'blur' }],\r\n        userMobile: [\r\n          { required: true, message: '请输入手机号', trigger: 'blur' },\r\n          {\r\n            pattern: /^1(3\\d|47|5((?!4)\\d)|7(0|1|[6-8])|8\\d)\\d{8,8}$/,\r\n            required: true,\r\n            message: '请输入正确的手机号',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        userEmail: [\r\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\r\n          {\r\n            pattern: /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/,\r\n            required: true,\r\n            message: '请输入正确的邮箱',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        userSex: [{ required: true, message: '请选择性别', trigger: 'blur' }]\r\n      },\r\n      // 删除用户\r\n      seletedata: {\r\n        ids: '',\r\n        token: localStorage.getItem('logintoken')\r\n      },\r\n      // 重置密码\r\n      resetpsd: {\r\n        userId: '',\r\n        token: localStorage.getItem('logintoken')\r\n      },\r\n      // 用户下线\r\n      offline: {\r\n        token: localStorage.getItem('logintoken')\r\n      },\r\n      // 请求数据参数\r\n      formInline: {\r\n        page: 1,\r\n        limit: 10,\r\n        deptId: '',\r\n        userName: '',\r\n        userMobile: '',\r\n        isLock: ''\r\n      },\r\n      //用户数据\r\n      userData: [],\r\n      // 数据权限\r\n      UserDept: [],\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      // 选中\r\n      checkmenu: [],\r\n      //参数role\r\n      saveroleId: '',\r\n      // 分页参数\r\n      pageparm: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        total: 10\r\n      }\r\n    }\r\n  },\r\n  // 注册组件\r\n  components: {\r\n    Pagination\r\n  },\r\n\r\n  /**\r\n   * 数据发生改变\r\n   */\r\n  watch: {},\r\n\r\n  /**\r\n   * 创建完毕\r\n   */\r\n  created() {\r\n    this.getdata(this.formInline)\r\n  },\r\n\r\n  /**\r\n   * 里面的方法只有被调用才会执行\r\n   */\r\n  methods: {\r\n    // 获取数据方法\r\n    getdata(parameter) {\r\n      this.loading = true\r\n      // 模拟数据开始\r\n      let res = {\r\n        code: 0,\r\n        msg: null,\r\n        count: 12,\r\n        data: [\r\n          {\r\n            addUser: '1',\r\n            editUser: '1',\r\n            addTime: null,\r\n            editTime: 1527411068000,\r\n            userId: 1,\r\n            systemNo: 'pmd',\r\n            userName: 'root',\r\n            userPassword: 'e10adc3949ba59abbe56e057f20f883e',\r\n            userRealName: '超级管理员',\r\n            userSex: '女',\r\n            userMobile: '138123456789',\r\n            userEmail: '111@qq.com',\r\n            isLock: 'N',\r\n            deptId: 1,\r\n            deptName: 'xxxx',\r\n            roleId: 1\r\n          },\r\n          {\r\n            addUser: '1',\r\n            editUser: '1',\r\n            addTime: null,\r\n            editTime: 1527410579000,\r\n            userId: 3,\r\n            systemNo: 'mc',\r\n            userName: 'zengzhuo',\r\n            userPassword: 'e10adc3949ba59abbe56e057f20f883e',\r\n            userRealName: '系统管理员',\r\n            userSex: 'M',\r\n            userMobile: '18616988966',\r\n            userEmail: '222@qq.com',\r\n            isLock: 'N',\r\n            deptId: 2,\r\n            deptName: 'xxxx',\r\n            roleId: 101\r\n          },\r\n          {\r\n            addUser: '1',\r\n            editUser: '4',\r\n            addTime: null,\r\n            editTime: 1527411586000,\r\n            userId: 4,\r\n            systemNo: 'ec',\r\n            userName: 'admin',\r\n            userPassword: '59ba8b7dda9ff79186311a5a9fa155ca',\r\n            userRealName: '超级管理员',\r\n            userSex: '女',\r\n            userMobile: '138123456789',\r\n            userEmail: 'huangxuekun@founder.com',\r\n            isLock: 'N',\r\n            deptId: 2,\r\n            deptName: 'xxxx',\r\n            roleId: 3\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1526275128000,\r\n            editTime: 1526284402000,\r\n            userId: 28,\r\n            systemNo: null,\r\n            userName: 'eee111',\r\n            userPassword: 'e10adc3949ba59abbe56e057f20f883e',\r\n            userRealName: '123111',\r\n            userSex: '男',\r\n            userMobile: '12354342345',\r\n            userEmail: '111232@qq.com',\r\n            isLock: 'N',\r\n            deptId: 4,\r\n            deptName: 'zxxxxx',\r\n            roleId: 1\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1526284533000,\r\n            editTime: 1526284533000,\r\n            userId: 37,\r\n            systemNo: null,\r\n            userName: 'ces',\r\n            userPassword: 'e10adc3949ba59abbe56e057f20f883e',\r\n            userRealName: 'sesfg',\r\n            userSex: '男',\r\n            userMobile: '12312312312',\r\n            userEmail: '122111111',\r\n            isLock: 'N',\r\n            deptId: 1,\r\n            deptName: 'xxxx',\r\n            roleId: 1\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1526285228000,\r\n            editTime: 1526285228000,\r\n            userId: 43,\r\n            systemNo: null,\r\n            userName: '22',\r\n            userPassword: 'e10adc3949ba59abbe56e057f20f883e',\r\n            userRealName: '22',\r\n            userSex: '男',\r\n            userMobile: '222',\r\n            userEmail: '222',\r\n            isLock: 'N',\r\n            deptId: 1,\r\n            deptName: 'xxxx',\r\n            roleId: 1\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1526448593000,\r\n            editTime: 1526448593000,\r\n            userId: 58,\r\n            systemNo: null,\r\n            userName: '1',\r\n            userPassword: 'e10adc3949ba59abbe56e057f20f883e',\r\n            userRealName: '1',\r\n            userSex: '女',\r\n            userMobile: '13607118810',\r\n            userEmail: '1@qq.com',\r\n            isLock: 'N',\r\n            deptId: 1,\r\n            deptName: 'xxxx',\r\n            roleId: 1\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1526452698000,\r\n            editTime: 1526520341000,\r\n            userId: 60,\r\n            systemNo: null,\r\n            userName: '222222222',\r\n            userPassword: 'e10adc3949ba59abbe56e057f20f883e',\r\n            userRealName: '222222222222',\r\n            userSex: '男',\r\n            userMobile: '13607118810',\r\n            userEmail: '111@qq.com',\r\n            isLock: 'N',\r\n            deptId: 1,\r\n            deptName: 'xxxx',\r\n            roleId: 1\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1526452731000,\r\n            editTime: 1526452731000,\r\n            userId: 61,\r\n            systemNo: null,\r\n            userName: '33333333333333',\r\n            userPassword: 'e10adc3949ba59abbe56e057f20f883e',\r\n            userRealName: '4444444444444444444',\r\n            userSex: '女',\r\n            userMobile: '13607118810',\r\n            userEmail: 'qqq@qq.com',\r\n            isLock: 'N',\r\n            deptId: 1,\r\n            deptName: 'xxxx',\r\n            roleId: 2\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1526452756000,\r\n            editTime: 1527128981000,\r\n            userId: 62,\r\n            systemNo: null,\r\n            userName: '211111111',\r\n            userPassword: 'e10adc3949ba59abbe56e057f20f883e',\r\n            userRealName: '21111111111',\r\n            userSex: '男',\r\n            userMobile: '13601478451',\r\n            userEmail: '222222@qq.com',\r\n            isLock: 'N',\r\n            deptId: 17,\r\n            deptName: 'v',\r\n            roleId: 2\r\n          }\r\n        ]\r\n      }\r\n      this.loading = false\r\n      this.userData = res.data\r\n      // 分页赋值\r\n      this.pageparm.currentPage = this.formInline.page\r\n      this.pageparm.pageSize = this.formInline.limit\r\n      this.pageparm.total = res.count\r\n      // 模拟数据结束\r\n\r\n      /***\r\n       * 调用接口，注释上面模拟数据 取消下面注释\r\n       */\r\n      // 获取用户列表\r\n      // userList(parameter).then(res => {\r\n      //   this.loading = false\r\n      //   if (res.success == false) {\r\n      //     this.$message({\r\n      //       type: 'info',\r\n      //       message: res.msg\r\n      //     })\r\n      //   } else {\r\n      //     this.userData = res.data\r\n      //     // 分页赋值\r\n      //     this.pageparm.currentPage = this.formInline.page\r\n      //     this.pageparm.pageSize = this.formInline.limit\r\n      //     this.pageparm.total = res.count\r\n      //   }\r\n      // })\r\n    },\r\n    // 分页插件事件\r\n    callFather(parm) {\r\n      this.formInline.page = parm.currentPage\r\n      this.formInline.limit = parm.pageSize\r\n      this.getdata(this.formInline)\r\n    },\r\n    //搜索事件\r\n    search() {\r\n      this.getdata(this.formInline)\r\n    },\r\n    // 修改type\r\n    editType: function(index, row) {\r\n      this.loading = true\r\n      let parm = {\r\n        lock: '',\r\n        userId: '',\r\n        token: localStorage.getItem('logintoken')\r\n      }\r\n      parm.userId = row.userId\r\n      let lock = row.isLock\r\n      if (lock == 'N') {\r\n        parm.lock = 'Y'\r\n      } else {\r\n        parm.lock = 'N'\r\n      }\r\n      // 修改状态\r\n      userLock(parm).then(res => {\r\n        this.loading = false\r\n        if (res.success == false) {\r\n          this.$message({\r\n            type: 'info',\r\n            message: res.msg\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '状态修改成功'\r\n          })\r\n          this.getdata(this.formInline)\r\n        }\r\n      })\r\n    },\r\n    //显示编辑界面\r\n    handleEdit: function(index, row) {\r\n      this.editFormVisible = true\r\n      if (row != undefined && row != 'undefined') {\r\n        this.title = '修改用户'\r\n        this.editForm.userId = row.userId\r\n        this.editForm.userName = row.userName\r\n        this.editForm.userRealName = row.userRealName\r\n        this.editForm.roleId = row.roleId\r\n        this.editForm.userMobile = row.userMobile\r\n        this.editForm.userEmail = row.userEmail\r\n        this.editForm.userSex = row.userSex\r\n      } else {\r\n        this.title = '添加用户'\r\n        this.editForm.userId = ''\r\n        this.editForm.userName = ''\r\n        this.editForm.userRealName = ''\r\n        this.editForm.roleId = ''\r\n        this.editForm.userMobile = ''\r\n        this.editForm.userEmail = ''\r\n        this.editForm.userSex = ''\r\n      }\r\n    },\r\n    // 编辑、添加提交方法\r\n    submitForm(editData) {\r\n      this.$refs[editData].validate(valid => {\r\n        if (valid) {\r\n          // 请求方法\r\n          userSave(this.editForm)\r\n            .then(res => {\r\n              this.editFormVisible = false\r\n              this.loading = false\r\n              if (res.success) {\r\n                this.getdata(this.formInline)\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '数据保存成功！'\r\n                })\r\n              } else {\r\n                this.$message({\r\n                  type: 'info',\r\n                  message: res.msg\r\n                })\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.editFormVisible = false\r\n              this.loading = false\r\n              this.$message.error('保存失败，请稍后再试！')\r\n            })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 显示部门设置\r\n    handleunit: function(index, row) {\r\n      this.unitAccessshow = true\r\n      let parms = 0\r\n      UserDeptdeptTree(parms)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.UserDept = this.changeArr(res.data.data)\r\n          } else {\r\n            this.$message({\r\n              type: 'info',\r\n              message: res.msg\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loading = false\r\n          this.$message.error('配置权限失败,请稍后再试！')\r\n        })\r\n    },\r\n    handleClick(data, checked, node) {\r\n      if (checked) {\r\n        this.$refs.tree.setCheckedNodes([])\r\n        this.$refs.tree.setCheckedNodes([data])\r\n        this.unitparm.deptId = data.id\r\n        this.unitparm.deptName = data.name\r\n        //交叉点击节点\r\n      } else {\r\n      }\r\n    },\r\n    // 保存部门\r\n    unitPermSave() {\r\n      let len = this.selectdata\r\n      let ids = []\r\n      if (len != 0) {\r\n        for (let i = 0; i < len.length; i++) {\r\n          ids.push(len[i].userId)\r\n        }\r\n      }\r\n      this.unitparm.userIds = ids.join(',')\r\n      UserChangeDept(this.unitparm)\r\n        .then(res => {\r\n          this.unitAccessshow = false\r\n          if (res.success) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '部门设置成功！'\r\n            })\r\n            this.getdata(this.formInline)\r\n          } else {\r\n            this.$message({\r\n              type: 'info',\r\n              message: res.msg\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loading = false\r\n          this.$message.error('部门设置失败,请稍后再试！')\r\n        })\r\n    },\r\n    // 选择复选框事件\r\n    selectChange(val) {\r\n      this.selectdata = val\r\n    },\r\n    // 关闭编辑、增加弹出框\r\n    closeDialog(dialog) {\r\n      if (dialog == 'edit') {\r\n        this.editFormVisible = false\r\n      } else if (dialog == 'perm') {\r\n        this.dataAccessshow = false\r\n      } else if (dialog == 'unit') {\r\n        this.unitAccessshow = false\r\n      }\r\n    },\r\n    // 删除用户\r\n    deleteUser(index, row) {\r\n      this.$confirm('确定要删除吗?', '信息', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          // 删除\r\n          userDelete(row.id)\r\n            .then(res => {\r\n              if (res.success) {\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '数据已删除!'\r\n                })\r\n                this.getdata(this.formInline)\r\n              } else {\r\n                this.$message({\r\n                  type: 'info',\r\n                  message: res.msg\r\n                })\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.loading = false\r\n              this.$message.error('数据删除失败，请稍后再试！')\r\n            })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除！'\r\n          })\r\n        })\r\n    },\r\n    // 重置密码\r\n    resetpwd(index, row) {\r\n      this.resetpsd.userId = row.userId\r\n      this.$confirm('确定要重置密码吗?', '信息', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          userPwd(this.resetpsd)\r\n            .then(res => {\r\n              if (res.success) {\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '重置密码成功！'\r\n                })\r\n                this.getdata(this.formInline)\r\n              } else {\r\n                this.$message({\r\n                  type: 'info',\r\n                  message: res.msg\r\n                })\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.loading = false\r\n              this.$message.error('重置密码失败，请稍后再试！')\r\n            })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '取消重置密码！'\r\n          })\r\n        })\r\n    },\r\n    // 数据权限\r\n    dataAccess: function(index, row) {\r\n      this.dataAccessshow = true\r\n      this.saveroleId = row.userId\r\n      UserDeptTree(row.userId)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.checkmenu = this.changemenu(res.data.data)\r\n            this.UserDept = this.changeArr(res.data.data)\r\n          } else {\r\n            this.$message({\r\n              type: 'info',\r\n              message: res.data.msg\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loading = false\r\n          this.$message.error('获取权限失败，请稍后再试！')\r\n        })\r\n    },\r\n    //数据格式化\r\n    changeArr(data) {\r\n      var pos = {}\r\n      var tree = []\r\n      var i = 0\r\n      while (data.length != 0) {\r\n        if (data[i].pId == 0) {\r\n          tree.push({\r\n            id: data[i].id,\r\n            name: data[i].name,\r\n            pId: data[i].pId,\r\n            open: data[i].open,\r\n            checked: data[i].checked,\r\n            children: []\r\n          })\r\n          pos[data[i].id] = [tree.length - 1]\r\n          data.splice(i, 1)\r\n          i--\r\n        } else {\r\n          var posArr = pos[data[i].pId]\r\n          if (posArr != undefined) {\r\n            var obj = tree[posArr[0]]\r\n            for (var j = 1; j < posArr.length; j++) {\r\n              obj = obj.children[posArr[j]]\r\n            }\r\n\r\n            obj.children.push({\r\n              id: data[i].id,\r\n              name: data[i].name,\r\n              pId: data[i].pId,\r\n              open: data[i].open,\r\n              checked: data[i].checked,\r\n              children: []\r\n            })\r\n            pos[data[i].id] = posArr.concat([obj.children.length - 1])\r\n            data.splice(i, 1)\r\n            i--\r\n          }\r\n        }\r\n        i++\r\n        if (i > data.length - 1) {\r\n          i = 0\r\n        }\r\n      }\r\n      return tree\r\n    },\r\n    // 选中菜单\r\n    changemenu(arr) {\r\n      let change = []\r\n      for (let i = 0; i < arr.length; i++) {\r\n        if (arr[i].checked) {\r\n          change.push(arr[i].id)\r\n        }\r\n      }\r\n      return change\r\n    },\r\n    // 菜单权限-保存\r\n    menuPermSave() {\r\n      let parm = {\r\n        userId: this.saveroleId,\r\n        deptIds: ''\r\n      }\r\n      let node = this.$refs.tree.getCheckedNodes()\r\n      let moduleIds = []\r\n      if (node.length != 0) {\r\n        for (let i = 0; i < node.length; i++) {\r\n          moduleIds.push(node[i].id)\r\n        }\r\n        parm.deptIds = JSON.stringify(moduleIds)\r\n      }\r\n      UserDeptSave(parm)\r\n        .then(res => {\r\n          if (res.success) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '权限保存成功'\r\n            })\r\n            this.dataAccessshow = false\r\n            this.getdata(this.formInline)\r\n          } else {\r\n            this.$message({\r\n              type: 'info',\r\n              message: res.msg\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loading = false\r\n          this.$message.error('权限保存失败，请稍后再试！')\r\n        })\r\n    },\r\n    // 下线用户\r\n    offlineUser(index, row) {\r\n      this.$confirm('确定要让' + row.userName + '用户下线吗?', '信息', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          userExpireToken(row.userName)\r\n            .then(res => {\r\n              if (res.success) {\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '用户' + row.userName + '强制下线成功！'\r\n                })\r\n                this.getdata(this.formInline)\r\n              } else {\r\n                this.$message({\r\n                  type: 'info',\r\n                  message: res.msg\r\n                })\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.loading = false\r\n              this.$message.error('用户下线失败，请稍后再试！')\r\n            })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消'\r\n          })\r\n        })\r\n    },\r\n    // 刷新缓存\r\n    refreshCache(index, row) {\r\n      userFlashCache(row.userName)\r\n        .then(res => {\r\n          if (res.success) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '刷新成功！'\r\n            })\r\n            this.getdata(this.formInline)\r\n          } else {\r\n            this.$message({\r\n              type: 'info',\r\n              message: res.msg\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loading = false\r\n          this.$message.error('刷新失败，请稍后再试！')\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.user-search {\r\n  margin-top: 20px;\r\n}\r\n.userRole {\r\n  width: 100%;\r\n}\r\n</style>\r\n\r\n "],"mappings":";AA4HA;AACA,SACAA,QAAA,EACAC,QAAA,EACAC,UAAA,EACAC,OAAA,EACAC,eAAA,EACAC,cAAA,EACAC,QAAA,EACAC,YAAA,EACAC,YAAA,EACAC,gBAAA,EACAC,cAAA,QACA;AACA,OAAAC,UAAA;AACA;EACAC,KAAA;IACA;MACAC,KAAA;MAAA;MACAC,KAAA;MAAA;MACAC,OAAA;MAAA;MACAC,KAAA;MACAC,eAAA;MAAA;MACAC,cAAA;MAAA;MACAC,cAAA;MAAA;MACA;MACAC,QAAA;QACAC,MAAA;QACAC,QAAA;QACAC,YAAA;QACAC,MAAA;QACAC,UAAA;QACAC,SAAA;QACAC,OAAA;QACAC,KAAA,EAAAC,YAAA,CAAAC,OAAA;MACA;MACA;MACAC,QAAA;QACAC,OAAA;QACAC,MAAA;QACAC,QAAA;MACA;MACA;MACAC,UAAA;MACA;MACAC,KAAA;QACAd,QAAA,GACA;UAAAe,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAhB,YAAA,GACA;UAAAc,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAf,MAAA;UAAAa,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAd,UAAA,GACA;UAAAY,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UACAC,OAAA;UACAH,QAAA;UACAC,OAAA;UACAC,OAAA;QACA,EACA;QACAb,SAAA,GACA;UAAAW,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UACAC,OAAA;UACAH,QAAA;UACAC,OAAA;UACAC,OAAA;QACA,EACA;QACAZ,OAAA;UAAAU,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MACA;MACA;MACAE,UAAA;QACAC,GAAA;QACAd,KAAA,EAAAC,YAAA,CAAAC,OAAA;MACA;MACA;MACAa,QAAA;QACAtB,MAAA;QACAO,KAAA,EAAAC,YAAA,CAAAC,OAAA;MACA;MACA;MACAc,OAAA;QACAhB,KAAA,EAAAC,YAAA,CAAAC,OAAA;MACA;MACA;MACAe,UAAA;QACAC,IAAA;QACAC,KAAA;QACAd,MAAA;QACAX,QAAA;QACAG,UAAA;QACAuB,MAAA;MACA;MACA;MACAC,QAAA;MACA;MACAC,QAAA;MACAC,YAAA;QACAC,QAAA;QACAC,KAAA;MACA;MACA;MACAC,SAAA;MACA;MACAC,UAAA;MACA;MACAC,QAAA;QACAC,WAAA;QACAC,QAAA;QACAC,KAAA;MACA;IACA;EACA;EACA;EACAC,UAAA;IACAjD;EACA;EAEA;AACA;AACA;EACAkD,KAAA;EAEA;AACA;AACA;EACAC,QAAA;IACA,KAAAC,OAAA,MAAAlB,UAAA;EACA;EAEA;AACA;AACA;EACAmB,OAAA;IACA;IACAD,QAAAE,SAAA;MACA,KAAAlD,OAAA;MACA;MACA,IAAAmD,GAAA;QACAC,IAAA;QACAC,GAAA;QACAC,KAAA;QACAzD,IAAA,GACA;UACA0D,OAAA;UACAC,QAAA;UACAC,OAAA;UACAC,QAAA;UACApD,MAAA;UACAqD,QAAA;UACApD,QAAA;UACAqD,YAAA;UACApD,YAAA;UACAI,OAAA;UACAF,UAAA;UACAC,SAAA;UACAsB,MAAA;UACAf,MAAA;UACAC,QAAA;UACAV,MAAA;QACA,GACA;UACA8C,OAAA;UACAC,QAAA;UACAC,OAAA;UACAC,QAAA;UACApD,MAAA;UACAqD,QAAA;UACApD,QAAA;UACAqD,YAAA;UACApD,YAAA;UACAI,OAAA;UACAF,UAAA;UACAC,SAAA;UACAsB,MAAA;UACAf,MAAA;UACAC,QAAA;UACAV,MAAA;QACA,GACA;UACA8C,OAAA;UACAC,QAAA;UACAC,OAAA;UACAC,QAAA;UACApD,MAAA;UACAqD,QAAA;UACApD,QAAA;UACAqD,YAAA;UACApD,YAAA;UACAI,OAAA;UACAF,UAAA;UACAC,SAAA;UACAsB,MAAA;UACAf,MAAA;UACAC,QAAA;UACAV,MAAA;QACA,GACA;UACA8C,OAAA;UACAC,QAAA;UACAC,OAAA;UACAC,QAAA;UACApD,MAAA;UACAqD,QAAA;UACApD,QAAA;UACAqD,YAAA;UACApD,YAAA;UACAI,OAAA;UACAF,UAAA;UACAC,SAAA;UACAsB,MAAA;UACAf,MAAA;UACAC,QAAA;UACAV,MAAA;QACA,GACA;UACA8C,OAAA;UACAC,QAAA;UACAC,OAAA;UACAC,QAAA;UACApD,MAAA;UACAqD,QAAA;UACApD,QAAA;UACAqD,YAAA;UACApD,YAAA;UACAI,OAAA;UACAF,UAAA;UACAC,SAAA;UACAsB,MAAA;UACAf,MAAA;UACAC,QAAA;UACAV,MAAA;QACA,GACA;UACA8C,OAAA;UACAC,QAAA;UACAC,OAAA;UACAC,QAAA;UACApD,MAAA;UACAqD,QAAA;UACApD,QAAA;UACAqD,YAAA;UACApD,YAAA;UACAI,OAAA;UACAF,UAAA;UACAC,SAAA;UACAsB,MAAA;UACAf,MAAA;UACAC,QAAA;UACAV,MAAA;QACA,GACA;UACA8C,OAAA;UACAC,QAAA;UACAC,OAAA;UACAC,QAAA;UACApD,MAAA;UACAqD,QAAA;UACApD,QAAA;UACAqD,YAAA;UACApD,YAAA;UACAI,OAAA;UACAF,UAAA;UACAC,SAAA;UACAsB,MAAA;UACAf,MAAA;UACAC,QAAA;UACAV,MAAA;QACA,GACA;UACA8C,OAAA;UACAC,QAAA;UACAC,OAAA;UACAC,QAAA;UACApD,MAAA;UACAqD,QAAA;UACApD,QAAA;UACAqD,YAAA;UACApD,YAAA;UACAI,OAAA;UACAF,UAAA;UACAC,SAAA;UACAsB,MAAA;UACAf,MAAA;UACAC,QAAA;UACAV,MAAA;QACA,GACA;UACA8C,OAAA;UACAC,QAAA;UACAC,OAAA;UACAC,QAAA;UACApD,MAAA;UACAqD,QAAA;UACApD,QAAA;UACAqD,YAAA;UACApD,YAAA;UACAI,OAAA;UACAF,UAAA;UACAC,SAAA;UACAsB,MAAA;UACAf,MAAA;UACAC,QAAA;UACAV,MAAA;QACA,GACA;UACA8C,OAAA;UACAC,QAAA;UACAC,OAAA;UACAC,QAAA;UACApD,MAAA;UACAqD,QAAA;UACApD,QAAA;UACAqD,YAAA;UACApD,YAAA;UACAI,OAAA;UACAF,UAAA;UACAC,SAAA;UACAsB,MAAA;UACAf,MAAA;UACAC,QAAA;UACAV,MAAA;QACA;MAEA;MACA,KAAAT,OAAA;MACA,KAAAkC,QA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"},"metadata":{},"sourceType":"module","externalDependencies":[]}