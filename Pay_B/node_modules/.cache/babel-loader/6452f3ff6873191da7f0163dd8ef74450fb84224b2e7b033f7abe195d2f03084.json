{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data() {\n    return {\n      status: false,\n      userlist: [],\n      list: [{\n        id: \"id\",\n        username: '用户名',\n        type: '类型',\n        phone: '电话',\n        email: '邮箱',\n        vipValue: \"VIP等级\",\n        isBlocked: \"状态\",\n        endDate: '结束时间',\n        fengjing: '封禁'\n      }],\n      arbitrateVisible: false,\n      editid: '',\n      edittime: '',\n      editidRules: {\n        time: [{\n          required: true,\n          message: '请输入封禁时间（数字）单位为小时',\n          trigger: 'blur'\n        }, {\n          type: 'number',\n          message: '封禁时间必须为数字',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  // data() {\n  //     return {\n  //\n  //     }\n  // },\n\n  created() {\n    this.getUserList();\n  },\n  methods: {\n    filterBlocked(value, row) {\n      return value === row.isBlocked;\n    },\n    getUserList() {\n      axios.defaults.baseURL = 'http://localhost:80';\n      axios.post('/admin/userlist', {\n        \"name\": '123'\n      }).then(response => {\n        if (response.data.code !== 1) {\n          return this.$message.error(response.data.msg);\n        } else {\n          this.userlist = response.data.data;\n        }\n      }, error => {\n        console.log('错误', error.message);\n      });\n    },\n    arbitrate(id) {\n      this.editid = id;\n      this.arbitrateVisible = true;\n    },\n    editidClosed() {\n      this.$refs.editidRef.resetFields();\n    },\n    editidInfo() {\n      let time;\n      time = this.edittime * 60 * 60 * 1000;\n      axios.defaults.baseURL = 'http://localhost:80';\n      axios.post('/admin/arbitrate', {\n        \"userid\": this.editid,\n        \"arbitrationtime\": time\n      }).then(response => {\n        if (response.data.code !== 1) {\n          return this.$message.error(response.data.msg);\n        } else {\n          this.arbitrateVisible = false;\n          this.getUserList();\n          return this.$message.success(response.data.msg);\n        }\n      }, error => {\n        console.log('错误', error.message);\n      });\n    }\n  },\n  filters: {\n    isBlockedFilter(value) {\n      if (value) {\n        return '正常';\n      } else {\n        return '被封禁';\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","status","userlist","list","id","username","type","phone","email","vipValue","isBlocked","endDate","fengjing","arbitrateVisible","editid","edittime","editidRules","time","required","message","trigger","created","getUserList","methods","filterBlocked","value","row","defaults","baseURL","post","then","response","code","$message","error","msg","console","log","arbitrate","editidClosed","$refs","editidRef","resetFields","editidInfo","success","filters","isBlockedFilter"],"sources":["src/views/manager_views/manager/information.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-breadcrumb separator=\"/\" class=\"mianbaoxie\">\r\n            <el-breadcrumb-item :to=\"{ path: '/system' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>用户信息</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <el-card class=\"box-card\">\r\n            <el-table :show-header=\"status\" :data=\"list\" border stripe height=\"50\" class=\"table\">\r\n                <el-table-column label=\"id\" prop=\"id\"></el-table-column>\r\n                <el-table-column label=\"用户名\" prop=\"username\"></el-table-column>\r\n                <el-table-column label=\"类型\" prop=\"type\"></el-table-column>\r\n                <el-table-column label=\"电话\" prop=\"phone\"></el-table-column>\r\n                <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n                <el-table-column label=\"VIP点数\" prop=\"vipValue\"></el-table-column>\r\n                <el-table-column label=\"状态\" prop=\"isBlocked\"></el-table-column>\r\n                <el-table-column label=\"结束时间\" prop=\"endDate\"></el-table-column>\r\n                <el-table-column label=\"封禁\" prop=\"fengjing\">\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-table :show-header=\"status\" :data=\"userlist\" border stripe height=\"700\" class=\"table\">\r\n                <el-table-column label=\"id\" prop=\"id\"></el-table-column>\r\n                <el-table-column label=\"用户名\" prop=\"username\"></el-table-column>\r\n                <el-table-column label=\"类型\" prop=\"type\"></el-table-column>\r\n                <el-table-column label=\"电话\" prop=\"phone\"></el-table-column>\r\n                <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n                <el-table-column label=\"VIP点数\" prop=\"vipValue\"></el-table-column>\r\n                <el-table-column label=\"状态\" :filters=\"[{ text: '封禁', value: true }, { text: '正常', value: false }]\" :filter-method=\"filterBlocked\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span v-if=\"scope.row.isBlocked\">禁用</span>\r\n                        <span v-else>正常</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"结束时间\" prop=\"endDate\"></el-table-column>\r\n                <el-table-column label=\"封禁\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tooltip effect=\"dark\" content=\"封禁用户\" placement=\"top\" :enterable=\"false\">\r\n                            <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\" @click=\"arbitrate(scope.row.id)\"></el-button>\r\n                        </el-tooltip>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-card>\r\n        <el-dialog\r\n            title=\"封禁用户\"\r\n            :visible.sync=\"arbitrateVisible\"\r\n            width=\"50%\"\r\n            @close=\"editidClosed\">\r\n            <el-form :model=\"editid\" :rules=\"editidRules\" ref=\"editidRef\" label-width=\"70px\" >\r\n                <el-form-item label=\"用户名\" >\r\n                    <el-input v-model=\"editid\" disabled></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"封禁时间\" prop=\"time\" >\r\n                    <el-input v-model=\"edittime\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"arbitrateVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"editidInfo\">确 定</el-button>\r\n  </span>\r\n        </el-dialog>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n\r\n    data(){\r\n        return {\r\n            status:false,\r\n            userlist: [],\r\n            list:[{ id: \"id\", username: '用户名', type: '类型', phone: '电话', email: '邮箱', vipValue: \"VIP等级\", isBlocked: \"状态\", endDate: '结束时间' ,fengjing:'封禁'}],\r\n\r\n            arbitrateVisible:false,\r\n            editid:'',\r\n            edittime:'',\r\n            editidRules:{\r\n\r\n                time:[\r\n                    {\r\n                        required:true,message:'请输入封禁时间（数字）单位为小时',trigger:'blur'\r\n                    },\r\n                    {\r\n                        type: 'number',\r\n                        message: '封禁时间必须为数字',\r\n                        trigger: 'blur'\r\n\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    // data() {\r\n    //     return {\r\n    //\r\n    //     }\r\n    // },\r\n\r\n\r\n\r\n    created() {\r\n\r\n        this.getUserList()\r\n    },\r\n\r\n    methods:{\r\n        filterBlocked(value, row) {\r\n            return value === row.isBlocked;\r\n        },\r\n        getUserList(){\r\n            axios.defaults.baseURL='http://localhost:80'\r\n            axios.post('/admin/userlist',{\r\n\r\n                \"name\":'123',\r\n            }).then(response=>{\r\n                if(response.data.code!==1) {\r\n                    return this.$message.error(response.data.msg)\r\n                }\r\n\r\n                else{\r\n                    this.userlist=response.data.data\r\n                }\r\n\r\n\r\n\r\n            },error=>{\r\n                console.log('错误',error.message)\r\n            })\r\n        },\r\n        arbitrate(id) {\r\n\r\n            this.editid=id\r\n            this.arbitrateVisible=true\r\n        },\r\n        editidClosed(){\r\n            this.$refs.editidRef.resetFields()\r\n        },\r\n        editidInfo(){\r\n            let time;\r\n            time=this.edittime*60*60*1000\r\n            axios.defaults.baseURL='http://localhost:80'\r\n            axios.post('/admin/arbitrate',{\r\n\r\n                \"userid\":this.editid,\r\n                \"arbitrationtime\":time,\r\n            }).then(response=>{\r\n                if(response.data.code!==1) {\r\n                    return this.$message.error(response.data.msg)\r\n                }\r\n\r\n                else{\r\n                    this.arbitrateVisible = false\r\n                    this.getUserList()\r\n                    return this.$message.success(response.data.msg)\r\n                }\r\n\r\n\r\n\r\n            },error=>{\r\n                console.log('错误',error.message)\r\n            })\r\n        },\r\n\r\n    },\r\n    filters: {\r\n        isBlockedFilter(value) {\r\n            if (value) {\r\n                return '正常';\r\n            } else {\r\n                return '被封禁';\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.mianbaoxie{\r\n    margin-bottom: 15px;\r\n}\r\n.box-card{\r\n    box-shadow: 0 1px 1px rgba(0,0,0,0.15);\r\n}\r\n.table{\r\n    margin-top: 15px;\r\n}\r\n</style>"],"mappings":"AAgEA,OAAAA,KAAA;AACA;EAEAC,KAAA;IACA;MACAC,MAAA;MACAC,QAAA;MACAC,IAAA;QAAAC,EAAA;QAAAC,QAAA;QAAAC,IAAA;QAAAC,KAAA;QAAAC,KAAA;QAAAC,QAAA;QAAAC,SAAA;QAAAC,OAAA;QAAAC,QAAA;MAAA;MAEAC,gBAAA;MACAC,MAAA;MACAC,QAAA;MACAC,WAAA;QAEAC,IAAA,GACA;UACAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QACA,GACA;UACAd,IAAA;UACAa,OAAA;UACAC,OAAA;QAEA;MAEA;IACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAIAC,QAAA;IAEA,KAAAC,WAAA;EACA;EAEAC,OAAA;IACAC,cAAAC,KAAA,EAAAC,GAAA;MACA,OAAAD,KAAA,KAAAC,GAAA,CAAAhB,SAAA;IACA;IACAY,YAAA;MACAvB,KAAA,CAAA4B,QAAA,CAAAC,OAAA;MACA7B,KAAA,CAAA8B,IAAA;QAEA;MACA,GAAAC,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAA/B,IAAA,CAAAgC,IAAA;UACA,YAAAC,QAAA,CAAAC,KAAA,CAAAH,QAAA,CAAA/B,IAAA,CAAAmC,GAAA;QACA,OAEA;UACA,KAAAjC,QAAA,GAAA6B,QAAA,CAAA/B,IAAA,CAAAA,IAAA;QACA;MAIA,GAAAkC,KAAA;QACAE,OAAA,CAAAC,GAAA,OAAAH,KAAA,CAAAf,OAAA;MACA;IACA;IACAmB,UAAAlC,EAAA;MAEA,KAAAU,MAAA,GAAAV,EAAA;MACA,KAAAS,gBAAA;IACA;IACA0B,aAAA;MACA,KAAAC,KAAA,CAAAC,SAAA,CAAAC,WAAA;IACA;IACAC,WAAA;MACA,IAAA1B,IAAA;MACAA,IAAA,QAAAF,QAAA;MACAhB,KAAA,CAAA4B,QAAA,CAAAC,OAAA;MACA7B,KAAA,CAAA8B,IAAA;QAEA,eAAAf,MAAA;QACA,mBAAAG;MACA,GAAAa,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAA/B,IAAA,CAAAgC,IAAA;UACA,YAAAC,QAAA,CAAAC,KAAA,CAAAH,QAAA,CAAA/B,IAAA,CAAAmC,GAAA;QACA,OAEA;UACA,KAAAtB,gBAAA;UACA,KAAAS,WAAA;UACA,YAAAW,QAAA,CAAAW,OAAA,CAAAb,QAAA,CAAA/B,IAAA,CAAAmC,GAAA;QACA;MAIA,GAAAD,KAAA;QACAE,OAAA,CAAAC,GAAA,OAAAH,KAAA,CAAAf,OAAA;MACA;IACA;EAEA;EACA0B,OAAA;IACAC,gBAAArB,KAAA;MACA,IAAAA,KAAA;QACA;MACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}